<!DOCTYPE html>
<html>
<head>
  <title>BANDTER</title>
  <link type="text/css" rel="stylesheet" href="css/homepage.css" />
</head>
<body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js" charset="utf-8"></script>
  <script type="text/javascript" src="/dpd.js"></script>
  <script type="text/javascript">
  var currentdate = new Date();
  var datetime = "Last Sync: " + (currentdate.getMonth()+1) + "/"
                + currentdate.getDate() + "/"
                + currentdate.getFullYear() + " @ "
                + currentdate.getHours() + ":"
                + currentdate.getMinutes() + ":"
                + currentdate.getSeconds();
  console.log(datetime);
</script>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="homepage.html">Bandter<span class="sr-only">(current)</span></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="#">Browse Shows</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Add Show</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Bands</a>
        </li>
      </ul>

      <div class="welcome-name"></div>

      <a class="nav-link" href="#">Account</a>
      <form class="navbar-form navbar-left" role="logout">
        <button class="btn btn-primary" id="logout-btn">Logout</button>
      </form>
    </div>
  </nav>

  <div class="container featured-shows-div">

    <h4>Featured Shows</h4>

    <div id="featuredShowsCarousel" class="carousel slide featured-shows" data-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <a href="#"><img class="d-block w-100" src="img/featured1.jpg" alt="Featured Show One"></a>
        </div>
        <div class="carousel-item">
          <a href="#"><img class="d-block w-100" src="img/featured2.jpg" alt="Featured Show Two"></a>
        </div>
        <div class="carousel-item">
          <a href="#"><img class="d-block w-100" src="img/featured3.jpg" alt="Featured Show Three"></a>
        </div>
      </div>
      <a class="carousel-control-prev" href="#featuredShowsCarousel" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#featuredShowsCarousel" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js" charset="utf-8"></script>
  <script type="text/javascript" src="/dpd.js"></script>
  <script type="text/javascript">
    dpd.users.me(function(user) {
      if (user) {
        $(".welcome-name").text("Welcome, " + user.username + "!");
      } else {
        location.href = "/";
      }
    });

    $("#logout-btn").click(function() {
      dpd.users.logout(function(res, err) {
        location.href = "/";
      });
    });
  </script>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</body>
</html>
<!--THERE ARE 2 DATABASES... THIS ONE IS FOR THE COMMENTS DATABASE
  dpd.comments.post({"user":"foobar","rating":3,"comment":"foobar","datetime":"foobar","showID":"foobar"}, function(result, err) {
  if(err) return console.log(err);
  console.log(result, result.id);
});
for the stuff above... "user" string is going to be the current user which is dpd.users.me
rating is any integer between 1 and 5 (1 lowest 5 highest)
comment is the actual comment string user types out on the shows page
datetime can be retrieved using the datetime script i wrote at the top of this page
showID is the unique ID given to each individual show. I can't find a way to search through the database for unique id's so for now the showID will be showName which is a string variable in the "shows" dpd database...
Matt update your form to make the user input a showName that we can use for showID.

-->
<!--THIS ONE IS FOR THE SHOWS DATABASE
dpd.shows.post({"showLinks":"foobar","showName":"foobar"}, function(result, err) {
  if(err) return console.log(err);
  console.log(result, result.id);
});
for the stuff above... "showLinks" is a string url to the page for a particular showName
showName is a string which is the name of the show to be listed on the browse shows page

-->
